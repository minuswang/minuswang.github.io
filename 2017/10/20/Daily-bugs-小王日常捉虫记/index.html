<!DOCTYPE html>
<html lang="">
  <head>
    
<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,minimum-scale=1,maximum-scale=1">


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="description" content="Daily bugs-小王日常捉虫记"/>








  <link rel="alternate" href="/default" title="Minus Wang">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=1.1" />



<link rel="canonical" href="http://minus.wang/2017/10/20/Daily-bugs-小王日常捉虫记/"/>


<meta name="description" content="《Daily bugs-小王日常捉虫记》 BUG-0001.Error:Failed to resolve: annotationProcessor123repositories &amp;#123;    maven &amp;#123; url &apos;https://jitpack.io&apos; &amp;#125;&amp;#125; 原版本123456allprojects &amp;#123;    repositories &amp;#123">
<meta property="og:type" content="article">
<meta property="og:title" content="Daily bugs-小王日常捉虫记">
<meta property="og:url" content="http://minus.wang/2017/10/20/Daily-bugs-小王日常捉虫记/index.html">
<meta property="og:site_name" content="Minus Wang">
<meta property="og:description" content="《Daily bugs-小王日常捉虫记》 BUG-0001.Error:Failed to resolve: annotationProcessor123repositories &amp;#123;    maven &amp;#123; url &apos;https://jitpack.io&apos; &amp;#125;&amp;#125; 原版本123456allprojects &amp;#123;    repositories &amp;#123">
<meta property="og:updated_time" content="2017-10-30T07:08:50.094Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Daily bugs-小王日常捉虫记">
<meta name="twitter:description" content="《Daily bugs-小王日常捉虫记》 BUG-0001.Error:Failed to resolve: annotationProcessor123repositories &amp;#123;    maven &amp;#123; url &apos;https://jitpack.io&apos; &amp;#125;&amp;#125; 原版本123456allprojects &amp;#123;    repositories &amp;#123">


<link rel="stylesheet" type="text/css" href="/css/style.css?v=1.1" />
<link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet'>





<script type="text/javascript">
  var themeConfig = {
    fancybox: {
      enable: false
    },
  };
</script>




  



    <title> Daily bugs-小王日常捉虫记 - Minus Wang </title>
  </head>

  <body>
    <div id="page">
      <header id="masthead"><div class="site-header-inner">
    <h1 class="site-title">
        <a href="/." class="logo">Minus Wang</a>
    </h1>

    <nav id="nav-top">
        
            <ul id="menu-top" class="nav-top-items">
                
                    <li class="menu-item">
                        <a href="/about">
                            
                            
                                Me
                            
                        </a>
                    </li>
                
                    <li class="menu-item">
                        <a href="/daohang">
                            
                            
                                Site
                            
                        </a>
                    </li>
                
                    <li class="menu-item">
                        <a href="/notes">
                            
                            
                                Note
                            
                        </a>
                    </li>
                
            </ul>
        
  </nav>
</div>

      </header>
      <div id="content">
        
    <div id="primary">
        
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          Daily bugs-小王日常捉虫记
        
      </h1>

      <time class="post-time">
          Oct 20 2017
      </time>
    </header>



    
            <div class="post-content">
            <p>《Daily bugs-小王日常捉虫记》</p>
<h2 id="BUG-0001-Error-Failed-to-resolve-annotationProcessor"><a href="#BUG-0001-Error-Failed-to-resolve-annotationProcessor" class="headerlink" title="BUG-0001.Error:Failed to resolve: annotationProcessor"></a>BUG-0001.Error:Failed to resolve: annotationProcessor</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">repositories &#123;</div><div class="line">    maven &#123; url <span class="string">'https://jitpack.io'</span> &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>原版本<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">allprojects &#123;</div><div class="line">    repositories &#123;</div><div class="line">        jcenter()</div><div class="line">        maven &#123; url <span class="string">'https://maven.google.com'</span> &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><a href="https://stackoverflow.com/questions/40703394/errorfailed-to-resolve-annotationprocessor" target="_blank" rel="external">0001参考链接</a></p>
<h2 id="BUG0002-Android-studio3-0升级稳定版-Cannot-set-the-value-of-read-only-property-‘outputFile’-for-ApkVariantOutputImpl-Decorated-apkData-Main-type-MAIN"><a href="#BUG0002-Android-studio3-0升级稳定版-Cannot-set-the-value-of-read-only-property-‘outputFile’-for-ApkVariantOutputImpl-Decorated-apkData-Main-type-MAIN" class="headerlink" title="BUG0002.Android studio3.0升级稳定版 Cannot set the value of read-only property ‘outputFile’ for ApkVariantOutputImpl_Decorated{apkData=Main{type=MAIN"></a>BUG0002.Android studio3.0升级稳定版 Cannot set the value of read-only property ‘outputFile’ for ApkVariantOutputImpl_Decorated{apkData=Main{type=MAIN</h2><blockquote>
<p>解决方案：</p>
<ol>
<li>Change <code>each -&gt; to all</code></li>
<li>Change <code>output.outputFile -&gt; to outputFileName</code></li>
</ol>
</blockquote>
<p>before:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">android.applicationVariants.all &#123; variant -&gt;</div><div class="line"></div><div class="line">    variant.outputs.each &#123; output -&gt;</div><div class="line">        def finalVersionCode =v10000 + versionCode</div><div class="line">        output.versionCodeOverride = finalVersionCode</div><div class="line">        output.outputFile = <span class="keyword">new</span> File(</div><div class="line">             output.outputFile.parent,       output.outputFile.name.replace(<span class="string">".apk"</span>,<span class="string">"-$&#123;finalVersion&#125;.apk"</span>))</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<blockquote>
<p>after:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">android.applicationVariants.all &#123; variant -&gt;</div><div class="line"></div><div class="line">    variant.outputs.all &#123; output -&gt;</div><div class="line">        def finalVersionCode = <span class="number">10000</span> + versionCode</div><div class="line">        output.versionCodeOverride = finalVersionCode</div><div class="line">        outputFileName = <span class="keyword">new</span> File(</div><div class="line">             output.outputFile.parent,</div><div class="line">             outputFileName.replace(<span class="string">".apk"</span>, <span class="string">"-$&#123;finalVersionCode&#125;.apk"</span>))</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>apply:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//Begin 添加apk输出的的路径，修改 生成的文件名、去除lint检查</span></div><div class="line">applicationVariants.all &#123; variant -&gt;</div><div class="line">    variant.outputs.all &#123; output -&gt;</div><div class="line">        <span class="comment">//def outputFile = output.outputFile</span></div><div class="line">        def apkFileName = <span class="string">""</span></div><div class="line">        <span class="keyword">if</span> (outputFileName != <span class="keyword">null</span> &amp;&amp; outputFileName.endsWith(<span class="string">'app-debug.apk'</span>)) &#123;</div><div class="line">            <span class="comment">//修改apk文件名</span></div><div class="line">            apkFileName = appName + <span class="string">"_"</span> + defaultConfig.versionName + <span class="string">"_debug.apk"</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (outputFileName != <span class="keyword">null</span> &amp;&amp; outputFileName.endsWith(<span class="string">'app-release-unsigned.apk'</span>)) &#123;</div><div class="line">            <span class="comment">//修改apk文件名</span></div><div class="line">            apkFileName = appName + <span class="string">"_"</span> + defaultConfig.versionName + <span class="string">"_release_unsigned.apk"</span></div><div class="line">        &#125;</div><div class="line">        outputFileName = <span class="keyword">new</span> File(apkOutDir.equals(<span class="string">""</span>) ? outputFileName : apkOutDir, apkFileName)</div><div class="line">        <span class="comment">//outputFileName.delete()</span></div><div class="line"></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
</blockquote>
<p><a href="https://stackoverflow.com/questions/44655405/change-apk-filename-in-gradle" target="_blank" rel="external">0002参考链接</a></p>
<h2 id="BUG0003-Error-style-attribute-‘-android-attr-windowExitAnimation’-not-found"><a href="#BUG0003-Error-style-attribute-‘-android-attr-windowExitAnimation’-not-found" class="headerlink" title="BUG0003.Error: style attribute ‘@android:attr/windowExitAnimation’ not found"></a>BUG0003.Error: style attribute ‘@android:attr/windowExitAnimation’ not found</h2><p>All the problem was solved already.</p>
<p>Cause of the problem：</p>
<p>There are two modules, A_module, B_module.</p>
<p>B_module has a style:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">name</span>=<span class="string">"my_style”&gt; </span></span></div><div class="line"><span class="tag"><span class="string"> &lt;item </span></span></div><div class="line"><span class="tag"><span class="string">  name="</span>@<span class="attr">android:windowEnterAnimation</span>"&gt;</span><span class="css">@<span class="keyword">anim</span>/<span class="keyword">anim_toast_show</span>&lt;/<span class="keyword">item</span>&gt; </span></div><div class="line"><span class="undefined"> &lt;item </span></div><div class="line"><span class="xml"> name="@android:windowExitAnimation"&gt;@anim/anim_toast_hide<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>If B_module compile<code>(&#39;:A_module&#39;)</code><br>Build or Clean, report a error location in A_module-&gt;Res-&gt;values-&gt;styles:</p>
<blockquote>
<p>Error:(94, 5) style attribute ‘@android:attr/windowExitAnimation’ not found<br>Error:(94, 5) style attribute ‘@android:attr/windowEnterAnimation’ not found</p>
<p>Solution:<br>Removing the <code>&quot;@&quot;</code> at the start of the item name.<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"@android:windowEnterAnimation"</span>&gt;</span>@anim/anim_toast_show<span class="tag">&lt;/<span class="name">item</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"@android:windowExitAnimation"</span>&gt;</span>@anim/anim_toast_hide<span class="tag">&lt;/<span class="name">item</span>&gt;</span></div></pre></td></tr></table></figure></p>
</blockquote>
<p>to:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"android:windowEnterAnimation"</span>&gt;</span>@anim/anim_toast_show<span class="tag">&lt;/<span class="name">item</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"android:windowExitAnimation"</span>&gt;</span>@anim/anim_toast_hide<span class="tag">&lt;/<span class="name">item</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p><a href="https://stackoverflow.com/questions/45952607/error-style-attribute-androidattr-windowexitanimation-not-found" target="_blank" rel="external">0003参考链接</a></p>
<h2 id="BUG0004"><a href="#BUG0004" class="headerlink" title="BUG0004."></a>BUG0004.</h2><h2 id="BUG0005"><a href="#BUG0005" class="headerlink" title="BUG0005."></a>BUG0005.</h2><h2 id="BUG0006"><a href="#BUG0006" class="headerlink" title="BUG0006."></a>BUG0006.</h2><h2 id="BUG0007"><a href="#BUG0007" class="headerlink" title="BUG0007."></a>BUG0007.</h2><h2 id="BUG0008"><a href="#BUG0008" class="headerlink" title="BUG0008."></a>BUG0008.</h2><h2 id="BUG0009"><a href="#BUG0009" class="headerlink" title="BUG0009."></a>BUG0009.</h2>
            </div>
          

    
  </article>

    </div>

      </div>

      <footer id="colophon"><span class="copyright-year">
    
        &copy;
    
        2015 -
    
    2017
    <span class="footer-author">MinusWang. All Rights Reserved. 砥砺前行-功不唐捐.</span>
</span>

      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>
    


    




  
    <script type="text/javascript" src="/lib/jquery/jquery-3.1.1.min.js"></script>
  

  

    <script type="text/javascript" src="/js/src/theme.js?v=1.1"></script>
<script type="text/javascript" src="/js/src/bootstrap.js?v=1.1"></script>

  </body>
</html>
